<!DOCTYPE html>
<html>

<head>
	<title>{% if title %}{{ title }} | {% endif %}CYBERCOM Admin Panel</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="{{ url_for('views.themes', theme='admin', path='img/favicon.ico') }}" type="image/x-icon">
	<link rel="icon" href="{{ url_for('views.themes', theme='admin', path='img/favicon.ico') }}" type="image/x-icon">
	{{ Assets.css("assets/css/main.scss", theme="admin") }}
	{{ Assets.css("assets/css/fonts.scss", theme="admin") }}
	{{ Assets.css("assets/css/admin.scss", theme="admin") }}
	{{ Assets.css("assets/css/codemirror.scss", theme="admin") }}
	<script type="text/javascript">
		var init = {
			'urlRoot': "{{ request.script_root }}",
			'csrfNonce': "{{ Session.nonce }}",
			'userMode': "{{ Configs.user_mode }}",
			'userId': {{ Session.id }},
			'userName': {{ User.name | tojson }},
			'userEmail': {{ User.email | tojson }},
			'teamId': {{ Team.id | tojson }},
			'teamName': {{ Team.name | tojson }},
			'start': {{ Configs.start | tojson }},
			'end': {{ Configs.end | tojson }}
		}
	</script>


	<!-- CYBERCOM Admin - 2025 Modern UI Design -->
	<style>
		/* ==================== GOOGLE FONTS ==================== */
		@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Noto+Sans+JP:wght@400;500;700;900&display=swap');

		/* ==================== MODERN COLOR SYSTEM ==================== */
		:root {
			/* Vibrant Modern Palette */
			--primary: #6366f1;
			--primary-hover: #4f46e5;
			--primary-light: #eef2ff;

			--secondary: #8b5cf6;
			--secondary-hover: #7c3aed;

			--accent: #06b6d4;
			--accent-hover: #0891b2;

			--success: #10b981;
			--success-light: #d1fae5;

			--warning: #f59e0b;
			--warning-light: #fef3c7;

			--danger: #ef4444;
			--danger-light: #fee2e2;

			/* Backgrounds */
			--bg-base: #fafbfc;
			--bg-surface: #ffffff;
			--bg-elevated: #ffffff;

			/* Text */
			--text-primary: #0f172a;
			--text-secondary: #475569;
			--text-tertiary: #94a3b8;

			/* Borders */
			--border-light: #e2e8f0;
			--border-medium: #cbd5e1;
			--border-heavy: #94a3b8;

			/* Sidebar - Vibrant Gradient */
			--sidebar-bg: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
			--sidebar-text: #e2e8f0;
			--sidebar-text-hover: #ffffff;
			--sidebar-active: #6366f1;
			--sidebar-active-bg: rgba(99, 102, 241, 0.1);

			/* Shadows - Modern Multi-layer */
			--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
			--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
			--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
			--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

			/* Spacing - 8px Grid System */
			--space-1: 4px;
			--space-2: 8px;
			--space-3: 12px;
			--space-4: 16px;
			--space-5: 20px;
			--space-6: 24px;
			--space-8: 32px;
			--space-10: 40px;
			--space-12: 48px;

			/* Border Radius - Modern */
			--radius-sm: 6px;
			--radius-md: 8px;
			--radius-lg: 12px;
			--radius-xl: 16px;
			--radius-full: 9999px;
		}

		/* ==================== GLOBAL RESET & TYPOGRAPHY ==================== */
		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}

		body {
			font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important;
			background: var(--bg-base) !important;
			color: var(--text-primary) !important;
			font-size: 14px;
			line-height: 1.6;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
		}

		h1, h2, h3, h4, h5, h6 {
			font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif !important;
			font-weight: 700;
			line-height: 1.3;
		}

		/* ==================== LAYOUT - MODERN GRID ==================== */
		.cybercom-admin-shell {
			display: block;
			min-height: 100vh;
			background: var(--bg-base);
			padding-left: 320px;
		}

		/* ==================== SIDEBAR - MODERN GRADIENT DESIGN ==================== */
		.cybercom-sidebar {
			position: fixed;
			top: 0;
			left: 0;
			width: 320px;
			height: 100vh;
			background: var(--sidebar-bg);
			border-right: 1px solid rgba(255, 255, 255, 0.05);
			display: flex;
			flex-direction: column;
			overflow-y: auto;
			overflow-x: hidden;
			z-index: 1000;
			box-shadow: 4px 0 24px -8px rgba(0, 0, 0, 0.3);
		}

		/* Modern Scrollbar */
		.cybercom-sidebar::-webkit-scrollbar {
			width: 6px;
		}

		.cybercom-sidebar::-webkit-scrollbar-track {
			background: rgba(0, 0, 0, 0.2);
		}

		.cybercom-sidebar::-webkit-scrollbar-thumb {
			background: rgba(99, 102, 241, 0.5);
			border-radius: var(--radius-full);
		}

		.cybercom-sidebar::-webkit-scrollbar-thumb:hover {
			background: rgba(99, 102, 241, 0.7);
		}

		/* Sidebar Header - Blue Theme */
		.sidebar-header {
			padding: var(--space-6);
			border-bottom: 2px solid #2563eb;
			background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
			position: relative;
		}

		.sidebar-header::after {
			content: '';
			position: absolute;
			bottom: 0;
			left: 0;
			right: 0;
			height: 2px;
			background: linear-gradient(90deg, #2563eb 0%, #3b82f6 50%, #2563eb 100%);
			box-shadow: 0 0 15px rgba(37, 99, 235, 0.5);
		}

		.sidebar-brand {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: var(--space-3);
			font-family: 'Plus Jakarta Sans', sans-serif;
			font-weight: 700;
			font-size: 14px;
			color: #ffffff;
			text-transform: uppercase;
			letter-spacing: 2px;
			text-decoration: none;
			transition: opacity 0.2s ease;
		}

		.sidebar-brand:hover {
			opacity: 0.9;
			text-decoration: none;
			color: #ffffff;
		}

		.brand-icon {
			width: 48px;
			height: 48px;
			display: flex;
			align-items: center;
			justify-content: center;
			flex-shrink: 0;
			background: transparent;
			padding: 4px;
		}

		.brand-logo-img {
			width: 100%;
			height: 100%;
			object-fit: contain;
			filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.3));
		}

		.brand-text {
			white-space: nowrap;
		}

		/* Sidebar Navigation - Modern */
		.sidebar-nav {
			flex: 1;
			padding: var(--space-4) 0;
		}

		.nav-section-title {
			padding: var(--space-4) var(--space-6) var(--space-2);
			font-size: 11px;
			font-weight: 700;
			color: var(--text-tertiary);
			letter-spacing: 1px;
			text-transform: uppercase;
		}

		.cybercom-sidebar .nav-item {
			display: flex;
			align-items: center;
			gap: var(--space-3);
			padding: var(--space-3) var(--space-6);
			margin: 2px var(--space-3);
			color: var(--sidebar-text);
			text-decoration: none;
			border-radius: var(--radius-md);
			transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
			font-size: 14px;
			font-weight: 500;
			position: relative;
		}

		.cybercom-sidebar .nav-item::before {
			content: '';
			position: absolute;
			left: 0;
			top: 50%;
			transform: translateY(-50%);
			width: 3px;
			height: 0;
			background: var(--primary);
			border-radius: var(--radius-full);
			transition: height 0.2s ease;
		}

		.cybercom-sidebar .nav-item:hover {
			background: rgba(255, 255, 255, 0.05);
			color: var(--sidebar-text-hover);
			transform: translateX(2px);
		}

		.cybercom-sidebar .nav-item.active {
			background: var(--sidebar-active-bg);
			color: var(--sidebar-text-hover);
			font-weight: 600;
		}

		.cybercom-sidebar .nav-item.active::before {
			height: 24px;
		}

		.cybercom-sidebar .nav-icon {
			width: 20px;
			height: 20px;
			display: flex;
			align-items: center;
			justify-content: center;
			color: var(--primary);
			font-size: 16px;
		}

		.nav-divider {
			height: 1px;
			background: rgba(255, 255, 255, 0.05);
			margin: var(--space-4) var(--space-6);
		}

		/* Sidebar Footer - Modern */
		.sidebar-footer {
			padding: var(--space-4) var(--space-6);
			border-top: 1px solid rgba(255, 255, 255, 0.05);
			background: rgba(0, 0, 0, 0.2);
		}

		.sidebar-status {
			display: flex;
			align-items: center;
			gap: var(--space-2);
			padding: var(--space-2) var(--space-3);
			background: rgba(16, 185, 129, 0.1);
			border-radius: var(--radius-md);
			font-size: 11px;
			font-weight: 600;
			color: var(--success);
			text-transform: uppercase;
			letter-spacing: 0.5px;
		}

		.status-indicator {
			width: 8px;
			height: 8px;
			border-radius: var(--radius-full);
			background: var(--success);
			box-shadow: 0 0 12px var(--success);
			animation: pulse-modern 2s ease-in-out infinite;
		}

		@keyframes pulse-modern {
			0%, 100% {
				opacity: 1;
				transform: scale(1);
			}
			50% {
				opacity: 0.7;
				transform: scale(0.95);
			}
		}

		/* ==================== MAIN CONTENT - MODERN DESIGN ==================== */
		#cybercom-content {
			background: var(--bg-base) !important;
			color: var(--text-primary) !important;
			min-height: 100vh;
			padding: var(--space-8) var(--space-10);
			max-width: 1600px;
			margin: 0 auto; /* CENTER THE CONTENT! */
		}

		/* Container centered with proper max-width */
		#cybercom-content .container,
		#cybercom-content .container-fluid {
			max-width: 1200px;
			margin-left: auto;
			margin-right: auto;
			padding-left: var(--space-6);
			padding-right: var(--space-6);
		}

		/* Modern Typography Hierarchy */
		#cybercom-content h1 {
			color: var(--text-primary) !important;
			font-size: 32px !important;
			font-weight: 700 !important;
			margin-bottom: var(--space-2) !important;
			letter-spacing: -0.5px !important;
		}

		#cybercom-content h2 {
			color: var(--text-primary) !important;
			font-size: 24px !important;
			font-weight: 600 !important;
			margin-bottom: var(--space-4) !important;
			letter-spacing: -0.3px !important;
		}

		#cybercom-content h3 {
			color: var(--text-secondary) !important;
			font-size: 18px !important;
			font-weight: 600 !important;
			margin-bottom: var(--space-3) !important;
		}

		#cybercom-content p,
		#cybercom-content label,
		#cybercom-content span,
		#cybercom-content div {
			color: var(--text-primary) !important;
		}

		/* ==================== MODERN CARDS ==================== */
		.card {
			background: var(--bg-surface) !important;
			border: 1px solid var(--border-light) !important;
			border-radius: var(--radius-xl) !important;
			box-shadow: var(--shadow-sm) !important;
			margin-bottom: var(--space-6) !important;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
			overflow: hidden;
		}

		.card:hover {
			box-shadow: var(--shadow-md) !important;
			transform: translateY(-2px);
		}

		.card-header {
			background: var(--bg-surface) !important;
			color: var(--text-primary) !important;
			font-size: 16px !important;
			font-weight: 600 !important;
			border-bottom: 1px solid var(--border-light) !important;
			padding: var(--space-5) var(--space-6) !important;
		}

		.card-body {
			padding: var(--space-6) !important;
			background: var(--bg-surface) !important;
			color: var(--text-primary) !important;
		}

		/* ==================== MODERN FORMS ==================== */
		.form-control,
		input[type="text"],
		input[type="email"],
		input[type="password"],
		input[type="number"],
		input[type="url"],
		textarea,
		select {
			background: var(--bg-surface) !important;
			border: 1.5px solid var(--border-light) !important;
			border-radius: var(--radius-md) !important;
			color: var(--text-primary) !important;
			padding: 12px 16px !important;
			min-height: 46px !important;
			font-size: 14px !important;
			line-height: 1.5 !important;
			font-family: 'Inter', sans-serif !important;
			transition: all 0.2s ease !important;
			box-shadow: var(--shadow-sm) !important;
		}

		.form-control:focus,
		input:focus,
		textarea:focus,
		select:focus {
			border-color: var(--primary) !important;
			box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1), var(--shadow-sm) !important;
			outline: none !important;
			background: #ffffff !important;
		}

		.form-control::placeholder {
			color: var(--text-tertiary) !important;
		}

		.custom-select {
			height: auto !important;
			min-height: 46px !important;
			padding: 12px 36px 12px 16px !important;
			background-position: right 12px center !important;
		}

		.form-group label {
			font-size: 14px !important;
			font-weight: 600 !important;
			color: var(--text-secondary) !important;
			margin-bottom: var(--space-2) !important;
		}

		/* ==================== MODERN BUTTONS ==================== */
		.btn {
			border-radius: var(--radius-md) !important;
			font-size: 14px !important;
			font-weight: 600 !important;
			padding: 10px 20px !important;
			border: none !important;
			cursor: pointer;
			transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
			text-decoration: none !important;
			display: inline-flex;
			align-items: center;
			gap: var(--space-2);
			box-shadow: var(--shadow-sm);
		}

		.btn:hover {
			transform: translateY(-1px);
			box-shadow: var(--shadow-md);
		}

		.btn:active {
			transform: translateY(0);
		}

		.btn-primary {
			background: linear-gradient(135deg, var(--primary), var(--primary-hover)) !important;
			color: #ffffff !important;
		}

		.btn-primary:hover {
			background: linear-gradient(135deg, var(--primary-hover), #3730a3) !important;
			color: #ffffff !important;
		}

		.btn-success {
			background: linear-gradient(135deg, var(--success), #059669) !important;
			color: #ffffff !important;
		}

		.btn-success:hover {
			background: linear-gradient(135deg, #059669, #047857) !important;
		}

		.btn-danger {
			background: linear-gradient(135deg, var(--danger), #dc2626) !important;
			color: #ffffff !important;
		}

		.btn-danger:hover {
			background: linear-gradient(135deg, #dc2626, #b91c1c) !important;
		}

		.btn-warning {
			background: linear-gradient(135deg, var(--warning), #d97706) !important;
			color: #ffffff !important;
		}

		.btn-warning:hover {
			background: linear-gradient(135deg, #d97706, #b45309) !important;
		}

		.btn-secondary {
			background: var(--bg-surface) !important;
			color: var(--text-primary) !important;
			border: 1.5px solid var(--border-medium) !important;
		}

		.btn-secondary:hover {
			background: var(--bg-base) !important;
			border-color: var(--border-heavy) !important;
		}

		/* ==================== MODERN TABLES ==================== */
		.table {
			background: var(--bg-surface) !important;
			border: 1px solid var(--border-light) !important;
			border-radius: var(--radius-xl) !important;
			border-collapse: separate !important;
			border-spacing: 0 !important;
			width: 100% !important;
			margin-bottom: var(--space-6) !important;
			box-shadow: var(--shadow-sm) !important;
			overflow: hidden;
		}

		.table thead th {
			background: linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%) !important;
			color: var(--text-secondary) !important;
			font-size: 12px !important;
			font-weight: 700 !important;
			text-transform: uppercase;
			letter-spacing: 0.5px;
			border-bottom: 2px solid var(--border-light) !important;
			padding: 14px 20px !important;
			text-align: left !important;
		}

		.table tbody td {
			background: var(--bg-surface) !important;
			color: var(--text-primary) !important;
			font-size: 14px !important;
			padding: 16px 20px !important;
			border-bottom: 1px solid var(--border-light) !important;
		}

		.table tbody tr {
			transition: all 0.15s ease;
		}

		.table tbody tr:hover td {
			background: #fafbfc !important;
		}

		.table tbody tr:last-child td {
			border-bottom: none !important;
		}

		

		/* Fix Player Progression table - consistent rounded corners */
		.table-responsive,
		.table-container {
			border-radius: var(--radius-xl) !important;
			overflow: hidden;
			border: 1px solid var(--border-light) !important;
			box-shadow: var(--shadow-sm) !important;
		}

		/* Make table first and last cells match container radius */
		.table thead th:first-child {
			border-top-left-radius: var(--radius-xl) !important;
		}

		.table thead th:last-child {
			border-top-right-radius: var(--radius-xl) !important;
		}

		.table tbody tr:last-child td:first-child {
			border-bottom-left-radius: var(--radius-xl) !important;
		}

		.table tbody tr:last-child td:last-child {
			border-bottom-right-radius: var(--radius-xl) !important;
		}

		

		/* Fix table double-box issue - remove outer border */
		.table-responsive {
			border: none !important;
			border-radius: 0 !important;
			box-shadow: none !important;
			overflow: visible !important;
		}

		/* Table already has proper styling - ensure it's the only border */
		.table {
			border-collapse: separate !important;
			border-spacing: 0 !important;
		}

		/* Ensure first/last cells have proper radius */
		.table thead tr:first-child th:first-child {
			border-top-left-radius: var(--radius-xl) !important;
		}

		.table thead tr:first-child th:last-child {
			border-top-right-radius: var(--radius-xl) !important;
		}

		.table tbody tr:last-child td:first-child {
			border-bottom-left-radius: var(--radius-xl) !important;
		}

		.table tbody tr:last-child td:last-child {
			border-bottom-right-radius: var(--radius-xl) !important;
		}

		/* ==================== MODERN BADGES ==================== */
		.badge,
		.btn-sm {
			padding: 6px 12px !important;
			border-radius: var(--radius-full) !important;
			font-size: 12px !important;
			font-weight: 600 !important;
			text-transform: uppercase;
			letter-spacing: 0.3px;
		}

		.badge-success,
		.btn-success.btn-sm {
			background: var(--success-light) !important;
			color: var(--success) !important;
		}

		.badge-warning,
		.btn-warning.btn-sm {
			background: var(--warning-light) !important;
			color: var(--warning) !important;
		}

		.badge-danger,
		.btn-danger.btn-sm {
			background: var(--danger-light) !important;
			color: var(--danger) !important;
		}

		.badge-info,
		.btn-info.btn-sm {
			background: var(--primary-light) !important;
			color: var(--primary) !important;
		}

		/* ==================== JUMBOTRON - MODERN ==================== */
		.jumbotron {
			background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;
			border: 1px solid var(--border-light) !important;
			border-radius: var(--radius-xl) !important;
			padding: var(--space-10) !important;
			margin-bottom: var(--space-6) !important;
			box-shadow: var(--shadow-sm) !important;
		}

		/* ==================== ALERTS - MODERN ==================== */
		.alert {
			border-radius: var(--radius-lg) !important;
			padding: var(--space-4) var(--space-5) !important;
			border: 1.5px solid transparent !important;
			margin-bottom: var(--space-4) !important;
			box-shadow: var(--shadow-sm) !important;
		}

		.alert-info {
			background: var(--primary-light) !important;
			border-color: var(--primary) !important;
			color: var(--primary-hover) !important;
		}

		.alert-success {
			background: var(--success-light) !important;
			border-color: var(--success) !important;
			color: #065f46 !important;
		}

		.alert-warning {
			background: var(--warning-light) !important;
			border-color: var(--warning) !important;
			color: #92400e !important;
		}

		.alert-danger {
			background: var(--danger-light) !important;
			border-color: var(--danger) !important;
			color: #991b1b !important;
		}

		/* ==================== UTILITIES ==================== */
		.text-muted {
			color: var(--text-tertiary) !important;
		}

		
		/* Remove ugly scrollbars - modern minimal design */
		* {
			scrollbar-width: thin;
			scrollbar-color: var(--border-medium) transparent;
		}

		*::-webkit-scrollbar {
			width: 8px;
			height: 8px;
		}

		*::-webkit-scrollbar-track {
			background: transparent;
		}

		*::-webkit-scrollbar-thumb {
			background: var(--border-medium);
			border-radius: var(--radius-full);
		}

		*::-webkit-scrollbar-thumb:hover {
			background: var(--border-heavy);
		}

		/* Hide scrollbars on main content (use overflow-x: auto only when needed) */
		#cybercom-content {
			overflow-x: hidden;
		}

		body {
			overflow-x: hidden;
		}

		/* Hide navbar */
		.navbar-nav {
			display: none !important;
		}

		/* Hide ugly sidebar menu button */
		.sidebar-collapse-btn,
		#sidebar-collapse-btn {
			display: none !important;
		}

		/* Fix sidebar to properly cover footer */
		.cybercom-sidebar {
			position: fixed !important;
			left: 0 !important;
		}

		/* Removed duplicate margin-left offset - handled by shell padding */

		/* Fix Player Progression table - consistent rounded corners */
		.table-responsive {
			border-radius: var(--radius-xl) !important;
			overflow: hidden !important;
		}

		/* ==================== RESPONSIVE ==================== */
		@media (max-width: 992px) {
			.cybercom-admin-shell {
				grid-template-columns: 1fr;
			}

			.cybercom-sidebar {
				position: fixed;
				left: -320px;
				top: 0;
				width: 320px;
				transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			}

			.cybercom-sidebar.mobile-open {
				left: 0;
			}

			#cybercom-content {
				padding: var(--space-6);
			}
		}
	</style>

	{% block stylesheets %} {% endblock %}
	{% for stylesheet in get_registered_admin_stylesheets() %}
		{% if stylesheet.startswith('http') %}
			<link rel="stylesheet" type="text/css" href="{{ stylesheet }}">
		{% elif request.script_root %}
			<link rel="stylesheet" type="text/css" href="{{ request.script_root }}/{{ stylesheet }}">
		{% else %}
			<link rel="stylesheet" type="text/css" href="{{ stylesheet }}">
		{% endif %}
	{% endfor %}
</head>

<body>
	<!-- CYBERCOM Admin Shell with CSS Grid -->
	<div class="cybercom-admin-shell">
		<!-- Persistent Sidebar -->
		<aside id="cybercom-sidebar" class="cybercom-sidebar">
			<div class="sidebar-header">
				<a href="{{ url_for('admin.statistics') }}" class="sidebar-brand">
					<span class="brand-icon">
						<img src="{{ url_for('admin.static', filename='img/cybercom-logo.png') }}" alt="CYBERCOM" class="brand-logo-img">
					</span>
					<span class="brand-text">CYBERCOM</span>
				</a>
				<button id="sidebar-collapse-btn" class="sidebar-collapse-btn" aria-label="Toggle sidebar">
					<i class="fas fa-bars"></i>
				</button>
			</div>

			<nav class="sidebar-nav">
				<!-- Dashboard -->
				<a href="{{ url_for('admin.statistics') }}"
				   class="nav-item {{ 'active' if request.endpoint == 'admin.statistics' }}">
					<i class="fas fa-chart-line nav-icon"></i>
					<span class="nav-label">Statistics</span>
				</a>

				<!-- Notifications -->
				<a href="{{ url_for('admin.notifications') }}"
				   class="nav-item {{ 'active' if request.endpoint == 'admin.notifications' }}">
					<i class="fas fa-bell nav-icon"></i>
					<span class="nav-label">Notifications</span>
				</a>

				<!-- Section: Content -->
				<div class="nav-divider"></div>
				<div class="nav-section-title">
					<i class="fas fa-angle-right nav-section-icon"></i>
					CONTENT
				</div>

				<a href="{{ url_for('admin.pages_listing') }}"
				   class="nav-item {{ 'active' if 'pages' in request.endpoint }}">
					<i class="fas fa-file-alt nav-icon"></i>
					<span class="nav-label">Pages</span>
				</a>

				<!-- Section: Users & Teams -->
				<div class="nav-divider"></div>
				<div class="nav-section-title">
					<i class="fas fa-angle-right nav-section-icon"></i>
					ACCESS CONTROL
				</div>

				<a href="{{ url_for('admin.users_listing') }}"
				   class="nav-item {{ 'active' if 'users' in request.endpoint }}">
					<i class="fas fa-users nav-icon"></i>
					<span class="nav-label">Users</span>
				</a>

				{% if get_config('user_mode') == 'teams' %}
				<a href="{{ url_for('admin.teams_listing') }}"
				   class="nav-item {{ 'active' if 'teams' in request.endpoint }}">
					<i class="fas fa-user-friends nav-icon"></i>
					<span class="nav-label">Teams</span>
				</a>
				{% endif %}

				<a href="{{ url_for('admin.scoreboard_listing') }}"
				   class="nav-item {{ 'active' if 'scoreboard' in request.endpoint }}">
					<i class="fas fa-trophy nav-icon"></i>
					<span class="nav-label">Scoreboard</span>
				</a>

				<!-- Section: Challenges -->
				<div class="nav-divider"></div>
				<div class="nav-section-title">
					<i class="fas fa-angle-right nav-section-icon"></i>
					CHALLENGES
				</div>

				<a href="{{ url_for('admin.challenges_listing') }}"
				   class="nav-item {{ 'active' if 'challenges' in request.endpoint }}">
					<i class="fas fa-flag nav-icon"></i>
					<span class="nav-label">Challenges</span>
				</a>

				<a href="{{ url_for('admin.submissions_listing') }}"
				   class="nav-item {{ 'active' if 'submissions' in request.endpoint }}">
					<i class="fas fa-clipboard-check nav-icon"></i>
					<span class="nav-label">Submissions</span>
				</a>

				<!-- Section: System -->
				<div class="nav-divider"></div>
				<div class="nav-section-title">
					<i class="fas fa-angle-right nav-section-icon"></i>
					SYSTEM
				</div>

				<a href="{{ url_for('admin.config') }}"
				   class="nav-item {{ 'active' if request.endpoint == 'admin.config' }}">
					<i class="fas fa-cog nav-icon"></i>
					<span class="nav-label">Configuration</span>
				</a>

				<!-- Plugins -->
				{% set plugins = get_menubar_plugins() %}
				{% if plugins %}
				<div class="nav-divider"></div>
				<div class="nav-section-title">
					<i class="fas fa-angle-right nav-section-icon"></i>
					PLUGINS
				</div>
				{% for plugin in plugins %}
				<a href="{{ request.script_root }}{{ plugin.route }}"
				   class="nav-item">
					<i class="fas fa-puzzle-piece nav-icon"></i>
					<span class="nav-label">{{ plugin.name }}</span>
				</a>
				{% endfor %}
				{% endif %}
			</nav>

			<!-- Sidebar footer -->
			<div class="sidebar-footer">
				<div class="sidebar-status">
					<span class="status-indicator"></span>
					<span class="status-text">SYSTEM OPERATIONAL</span>
				</div>
			</div>
		</aside>

		<!-- Main content area -->
		<main id="cybercom-content" role="main">
			{% if get_config('version_latest') %}
			<div class="container-fluid bg-warning text-center py-3">
				<div class="row">
					<div class="col-md-12">
						<a class="btn btn-warning" href="{{ get_config('version_latest') }}">
							A new CTFd version is available!
						</a>
					</div>
				</div>
			</div>
			{% endif %}
			{% block content %}
			{% endblock %}

		<!-- Footer moved inside main content area -->
		<footer class="footer pt-5 mt-5" style="width: 100%; margin-left: 0; padding-left: 0;">
			<div class="container text-center">
				<div style="margin-bottom: 0.5rem;">
					<small class="text-muted" style="font-family: 'Plus Jakarta Sans', sans-serif; font-weight: 600; letter-spacing: 0.5px;">
						CYBERCOM SECURITY GRID â€” ADMIN INTERFACE
					</small>
				</div>
				<small class="text-muted">
					Version {{ get_config('ctf_version') }}
				</small>
			</div>
		</footer>
		</main>
	</div>


	{% block entrypoint %}
		{{ Assets.js("assets/js/pages/main.js", theme="admin") }}
	{% endblock %}

	{% block scripts %} {% endblock %}

	{% for script in get_registered_admin_scripts() %}
		{% if script.startswith('http') %}
			<script defer src="{{ script }}"></script>
		{% elif request.script_root %}
			<script defer src="{{ request.script_root }}/{{ script }}"></script>
		{% else %}
			<script defer src="{{ script }}"></script>
		{% endif %}
	{% endfor %}
</body>

</html>
